<app-header title="Update"></app-header>
<ion-content>
  <ion-card>
    <ion-card-header>
      <ion-card-title>Update info</ion-card-title>
    </ion-card-header>
    <ion-card class="card-image">
      <ion-text>
      </ion-text>
      <div class="test" *ngIf="imagesLength == 1">
        <swiper class="swp-img" [slidesPerView]="1" [scrollbar]="true" effect="fade" [zoom]="true">
          <ng-template swiperSlide *ngFor="let image of images">
            <ion-fab vertical="top" horizontal="start" slot="fixed">
              <ion-fab-button color="success">
                <ion-icon name="repeat-outline"></ion-icon>
              </ion-fab-button>
              <ion-fab-list side="end">
                <ion-fab-button color="warning" (click)="takePhoto(0)">
                  <ion-icon name="camera-outline"></ion-icon>
                </ion-fab-button>
              </ion-fab-list>
              <ion-fab-list side="bottom">
                <ion-fab-button color="warning" (click)="pickImage(0)">
                  <ion-icon name="folder-open-outline"></ion-icon>
                </ion-fab-button>
              </ion-fab-list>
            </ion-fab>
            <ion-img class="img-thumb" src="http://localhost:8080/images/{{image.imgfile}}"></ion-img>
          </ng-template>
        </swiper>
        <ion-fab vertical="bottom" horizontal="end" slot="fixed">
          <ion-fab-button color="light">
            <ion-icon name="add-outline"></ion-icon>
          </ion-fab-button>
          <ion-fab-list side="start">
            <ion-fab-button color="warning" (click)="takePhoto(1,-1)">
              <ion-icon name="camera-outline"></ion-icon>
            </ion-fab-button>
          </ion-fab-list>
          <ion-fab-list side="top">
            <ion-fab-button color="warning" (click)="pickImage(1,-1)">
              <ion-icon name="folder-open-outline"></ion-icon>
            </ion-fab-button>
          </ion-fab-list>
        </ion-fab>
      </div>
      <div class="img-container" *ngIf="imagesLength !== 1">
        <swiper class="swp-img" [slidesPerView]="1" [scrollbar]="true" effect="fade" [zoom]="true">
          <ng-template swiperSlide *ngFor="let image of images">
            <ion-fab vertical="top" horizontal="start" slot="fixed">
              <ion-fab-button color="success">
                <ion-icon name="repeat-outline"></ion-icon>
              </ion-fab-button>
              <ion-fab-list side="end">
                <ion-fab-button color="warning" (click)="takePhoto(0,image.id)">
                  <ion-icon name="camera-outline"></ion-icon>
                </ion-fab-button>
              </ion-fab-list>
              <ion-fab-list side="bottom">
                <ion-fab-button color="warning" (click)="pickImage(0,image.id)">
                  <ion-icon name="folder-open-outline"></ion-icon>
                </ion-fab-button>
              </ion-fab-list>
            </ion-fab>
            <ion-img class="img-thumb" src="http://localhost:8080/images/{{image.imgfile}}"></ion-img>
            <ion-button shape="round" color="danger" class="dlt-img-upt" (click)="discardImage(image.id)">
              <ion-icon slot="icon-only" name="trash-outline"></ion-icon>
            </ion-button>
          </ng-template>
        </swiper>
        <ion-fab vertical="bottom" horizontal="end" slot="fixed">
          <ion-fab-button color="light">
            <ion-icon name="add-outline"></ion-icon>
          </ion-fab-button>
          <ion-fab-list side="start">
            <ion-fab-button color="warning" (click)="takePhoto(1,-1)">
              <ion-icon name="camera-outline"></ion-icon>
            </ion-fab-button>
          </ion-fab-list>
          <ion-fab-list side="top">
            <ion-fab-button color="warning" (click)="pickImage(1,-1)">
              <ion-icon name="folder-open-outline"></ion-icon>
            </ion-fab-button>
          </ion-fab-list>
        </ion-fab>
      </div>
    </ion-card>
    <ion-list *ngIf="house">
      <form (ngSubmit)="onUpdate()" novalidate #add="ngForm">
        <ion-item class="ion-margin-vertical">
          <ion-label position="stacked">Title</ion-label>
          <ion-input type="text" placeholder="New House" name="title" [(ngModel)]="house.title" required></ion-input>
        </ion-item>
        <ion-item class="ion-margin-vertical">
          <ion-label position="stacked">Location</ion-label>
          <ion-input type="text" placeholder="House address" name="location" [(ngModel)]="house.location" required>
          </ion-input>
        </ion-item>
        <ion-item class="ion-margin-vertical">
          <ion-label position="stacked">Price â‚¬</ion-label>
          <ion-input type="number" placeholder="100" name="price" [(ngModel)]="house.price" required></ion-input>
        </ion-item>
        <ion-item class="ion-margin-vertical">
          <ion-label position="stacked">Description</ion-label>
          <ion-input type="text" placeholder="House description" name="description" [(ngModel)]="house.description"
            required>
          </ion-input>
        </ion-item>
        <ion-item class="ion-margin-vertical">
          <ion-label position="stacked">WC</ion-label>
          <ion-input type="number" placeholder="0 - 10" name="wc" [(ngModel)]="house.wc" required></ion-input>
        </ion-item>
        <ion-item class="ion-margin-vertical">
          <ion-label position="stacked">Rooms</ion-label>
          <ion-input type="number" placeholder="0 - 10" name="rooms" [(ngModel)]="house.rooms" required></ion-input>
        </ion-item>
        <ion-button type="submit" expand="full" class="ion-margin-top" [disabled]="!add.valid">
          <ion-icon name="checkmark-done-outline" slot="start"></ion-icon>
          <ion-label>Update rent</ion-label>
        </ion-button>
      </form>
    </ion-list>
  </ion-card>
</ion-content>